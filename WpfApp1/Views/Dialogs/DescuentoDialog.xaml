<Window x:Class="OrySiPOS.Views.Dialogs.DescuentoDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="Aplicar Descuento" 
        Height="Auto" Width="380"
        SizeToContent="Height"
        ResizeMode="NoResize"
        WindowStartupLocation="CenterOwner"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        MouseDown="Window_MouseDown"
        KeyDown="Window_KeyDown">

    <Border Background="{StaticResource PageBackground}" 
            CornerRadius="15" 
            BorderBrush="{StaticResource BorderBrush}" 
            BorderThickness="1" 
            Margin="10">

        <Border.Effect>
            <DropShadowEffect Color="#B0BEC5" BlurRadius="20" ShadowDepth="5" Opacity="0.4"/>
        </Border.Effect>

        <Grid Margin="25">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <StackPanel Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,20">
                <TextBlock Text="🏷️" FontSize="24" Margin="0,0,10,0" VerticalAlignment="Center"/>
                <TextBlock Text="Aplicar Descuento" FontSize="20" FontWeight="Bold" Foreground="{StaticResource TextPrimary}" VerticalAlignment="Center"/>
            </StackPanel>

            <StackPanel Grid.Row="1">

                <TextBlock Text="Monto o Porcentaje:" FontWeight="SemiBold" Foreground="{StaticResource TextSecondary}" Margin="0,0,0,5"/>
                <Border Background="White" BorderBrush="{StaticResource BorderBrush}" BorderThickness="1" CornerRadius="5" Padding="5">
                    <TextBox x:Name="ValorTextBox"
                             FontSize="20"
                             FontWeight="Bold"
                             BorderThickness="0"
                             Background="Transparent"
                             HorizontalContentAlignment="Center"
                             Padding="5"
                             PreviewTextInput="ValorTextBox_PreviewTextInput"/>
                </Border>

                <TextBlock Text="Tipo de aplicación:" FontWeight="SemiBold" Foreground="{StaticResource TextSecondary}" Margin="0,15,0,5"/>
                <Border Background="White" BorderBrush="{StaticResource BorderBrush}" BorderThickness="1" CornerRadius="5" Padding="10">
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                        <RadioButton x:Name="PorcentajeRadioButton" 
                                     Content="Porcentaje (%)" 
                                     GroupName="TipoDescuento" 
                                     IsChecked="True" 
                                     FontSize="14"
                                     Margin="0,0,20,0"
                                     VerticalContentAlignment="Center"/>

                        <RadioButton x:Name="MontoFijoRadioButton" 
                                     Content="Monto Fijo ($)" 
                                     GroupName="TipoDescuento" 
                                     FontSize="14"
                                     VerticalContentAlignment="Center"/>
                    </StackPanel>
                </Border>
            </StackPanel>

            <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,25,0,0">
                <Button x:Name="CancelarButton"
                        Content="Cancelar"
                        Style="{StaticResource BtnSecondary}"
                        Click="CancelarButton_Click"
                        Width="100" Margin="0,0,10,0"
                        IsCancel="True"/>

                <Button x:Name="AceptarButton"
                        Content="Aplicar"
                        Style="{StaticResource BtnSuccess}"
                        Click="AceptarButton_Click"
                        Width="100"
                        IsDefault="True">
                    <Button.Effect>
                        <DropShadowEffect Color="#28A745" BlurRadius="10" Opacity="0.3"/>
                    </Button.Effect>
                </Button>
            </StackPanel>
        </Grid>
    </Border>
</Window>