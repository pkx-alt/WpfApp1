<Window x:Class="WpfApp1.Views.Dialogs.DetalleVentaDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:WpfApp1.Views.Dialogs"
        mc:Ignorable="d"
        
        Title="Detalle de venta" 
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        WindowStyle="ToolWindow"
        FontFamily="Segoe UI"
        Background="White"
        SizeToContent="Height"
        Width="650">

    <Grid Margin="25">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <StackPanel Grid.Row="0" Margin="0,0,0,15">
            <TextBlock FontSize="24" FontWeight="Bold" Margin="0,0,0,5">
                <Run Text="Detalle de venta - Folio "/>
                <Run Text="{Binding Folio}" FontWeight="Bold"/>
            </TextBlock>
            <TextBlock FontSize="15">
                <Run Text="Cliente: " FontWeight="SemiBold"/>
                <Run Text="{Binding NombreCliente}"/>
            </TextBlock>
            <TextBlock FontSize="15">
                <Run Text="Fecha y hora: " FontWeight="SemiBold"/>
                <Run Text="{Binding FechaHora, StringFormat='dd/MM/yyyy HH:mm'}"/>
            </TextBlock>
        </StackPanel>

        <DataGrid Grid.Row="1" 
                  ItemsSource="{Binding DetallesVenta}"
                  AutoGenerateColumns="False" CanUserAddRows="False" IsReadOnly="True"
                  GridLinesVisibility="Horizontal" HorizontalGridLinesBrush="#EEE"
                  HeadersVisibility="Column" Background="White" BorderThickness="0"
                  FontSize="14">

            <DataGrid.ColumnHeaderStyle>
                <Style TargetType="DataGridColumnHeader">
                    <Setter Property="Background" Value="#FFE8D6"/>
                    <Setter Property="FontWeight" Value="Bold"/>
                    <Setter Property="BorderThickness" Value="0"/>
                    <Setter Property="Padding" Value="10,12"/>
                    <Setter Property="HorizontalContentAlignment" Value="Center"/>
                </Style>
            </DataGrid.ColumnHeaderStyle>

            <DataGrid.CellStyle>
                <Style TargetType="DataGridCell">
                    <Setter Property="BorderThickness" Value="0"/>
                    <Setter Property="Padding" Value="10,8"/>
                    <Setter Property="VerticalAlignment" Value="Center"/>
                </Style>
            </DataGrid.CellStyle>

            <DataGrid.Columns>
                <DataGridTextColumn Header="ID" Binding="{Binding ID}" Width="Auto"/>
                <DataGridTextColumn Header="Descripción" Binding="{Binding Descripcion}" Width="*"/>
                <DataGridTextColumn Header="UD" Binding="{Binding UD}" Width="Auto"/>
                <DataGridTextColumn Header="Precio" Binding="{Binding Precio, StringFormat=C}" Width="Auto"/>
                <DataGridTextColumn Header="Subtotal" Binding="{Binding Subtotal, StringFormat=C}" Width="Auto"/>
            </DataGrid.Columns>
        </DataGrid>

        <Grid Grid.Row="2" Margin="0,20,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <StackPanel Grid.Column="0" VerticalAlignment="Bottom">
                <TextBlock FontSize="16" Margin="0,2">
                    <Run Text="Recibido: " FontWeight="SemiBold"/>
                    <Run Text="{Binding Recibido, StringFormat=C}"/>
                </TextBlock>
                <TextBlock FontSize="16" Margin="0,2">
                    <Run Text="Cambio: " FontWeight="SemiBold"/>
                    <Run Text="{Binding Cambio, StringFormat=C}"/>
                </TextBlock>
                <TextBlock FontSize="16" Margin="0,2" Foreground="Green" FontWeight="Bold">
                    <Run Text="Ganancia: "/>
                    <Run Text="{Binding Ganancia, StringFormat=C}"/>
                </TextBlock>
            </StackPanel>

            <StackPanel Grid.Column="1" HorizontalAlignment="Right" TextBlock.FontSize="16">
                <TextBlock Margin="0,2" HorizontalAlignment="Right">
                    <Run Text="Subtotal: "/>
                    <Run Text="{Binding Subtotal, StringFormat=C}" FontWeight="SemiBold"/>
                </TextBlock>
                <TextBlock Margin="0,2" HorizontalAlignment="Right">
                    <Run Text="IVA: "/>
                    <Run Text="{Binding IVA, StringFormat=C}" FontWeight="SemiBold"/>
                </TextBlock>
                <TextBlock Margin="0,8,0,0" FontSize="20" Foreground="Red" HorizontalAlignment="Right">
                    <Run Text="Total: "/>
                    <Run Text="{Binding Total, StringFormat=C}" FontWeight="Bold"/>
                </TextBlock>
            </StackPanel>
        </Grid>

        <TextBlock Grid.Row="3" Text="{Binding TotalEnLetra}"
           FontSize="10" HorizontalAlignment="Center" Margin="0,20,0,0"
           Foreground="Gray" FontStyle="Italic"/>

        <StackPanel Grid.Row="4" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
            <Button Content="Imprimir ticket" Padding="20,10" 
                    Background="#4F6A7F" Foreground="White" FontWeight="Bold"
                    BorderThickness="0" Margin="0,0,10,0"/>

            <Button Content="Cancelar" Padding="20,10" 
                    Background="#6c757d" Foreground="White" FontWeight="Bold"
                    BorderThickness="0"
                    Command="{Binding CerrarDialogoCommand}"/>
        </StackPanel>

    </Grid>
</Window>